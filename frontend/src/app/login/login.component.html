<main>
    <section aria-labelledby="login-title">
        <h2 id="login-title">Login</h2>
        <form #loginForm="ngForm" (ngSubmit)="onSubmit(loginForm)" novalidate>
            <div>
                <label for="username">Username:</label>
                <input type="text" id="username" name="username" [(ngModel)]="username" required minlength="3"
                    aria-required="true" aria-label="Username"
                    [attr.aria-invalid]="loginForm.submitted && !loginForm.controls['username']?.valid ? 'true' : 'false'" />
                @if (loginForm.submitted && loginForm.controls['username'] && !loginForm.controls['username'].valid) {
                <div class="error" aria-live="polite">
                    Username is required (min 3 characters).
                </div>
                }
            </div>
            <div>
                <label for="email">Email:</label>
                <input type="email" id="email" name="email" [(ngModel)]="email" required email aria-required="true"
                    aria-label="Email"
                    [attr.aria-invalid]="loginForm.submitted && !loginForm.controls['email']?.valid ? 'true' : 'false'" />
                @if (loginForm.submitted && loginForm.controls['email'] && !loginForm.controls['email'].valid) {
                <div class="error" aria-live="polite">
                    Valid email is required.
                </div>
                }
            </div>
            <div>
                <label for="notifications">Enable Notifications:</label>
                <input type="checkbox" id="notifications" name="notifications" [(ngModel)]="notifications"
                    aria-label="Enable Notifications" />
            </div>
            <button type="submit">Login</button>
        </form>
        @if (formData) {
        <div>
            <h3>Form Data:</h3>
            <pre>{{ formData | json }}</pre>
        </div>
        }
    </section>
</main>